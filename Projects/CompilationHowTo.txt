# For developers and Linux users

This directory contains the C/C++ source files in the Sources directory
and script files to build the library using different Modelica tools,
operating systems, and C/C++ compilers.

Instructions below build the static gcc library and copy it and the
externalmedia.h header files in the Resource directories of the
Modelica packages, so it can be used right away by just loading the
package in you Modelica software.

## Dymola and Visual Studio

Open the `BuildLib-CMake.bat` file and select the CMake generator that matches
your Modelica compiler. Please note that you also have to select whether you
run 32bit or 64bit. After editing the file, you can launch the compilation by
double-clicking on `BuildLib-CMake.bat`.

## OpenModelica on Windows

- Get the OMDEV environment from the SVN repository:
  https://openmodelica.org/svn/OpenModelicaExternal/trunk/tools/windows/OMDev
  user: anonymous
  pass: none
- Install OMDEV in the C:\OMDev path
- Start either C:\OMDev\tools\msys\mingw64_shell.bat (for 64bit installations) 
  or C:\OMDev\tools\msys\mingw32_shell.bat (for 32bit installations)
- $ mount d:/Path_to_your_ExternalMediaLibrary_working_copy /ExternalMediaLibrary
- $ cd /ExternalMediaLibrary/Projects
- $ ./BuildLib-CMake.sh

## Linux users (Dymola and OpenModelica)

This procedure has not been tested with OpenModelica. Please report any errors
in order to help us to improve the Linux support of ExternalMedia. 

 - Open a command prompt and go to the ExternalMedia folder
- Go to the `Projects` directory: `cd Projects`
- Install the files: `./BuildLib-CMake.sh`
